{
  "$schema": "https://josfox.ai/schemas/jos-0.0.7.json",
  "$comment": "Format version v0.0.7 ‚Äî Specification maturity v0.1.0 (Alpha)",
  "jos": {
    "open": "jos run atom",
    "supports": [
      "@josfox/jos",
      "josctl"
    ],
    "canonical": "Format version v0.0.7 ‚Äî Specification maturity v0.1.0 (Alpha)"
  },
  "orchestration_contract": {
    "version": "0.0.7",
    "mode": "sync"
  },
  "id_jos": "atom-publish-jos-cli-v1",
  "adaptive_ai": {
    "learning_mode": "frozen",
    "llm_friendly_sentence": "This artifact publishes the @josfox/jos-cli package to npm registry with version 1.0.4"
  },
  "security": {
    "type": "open",
    "permissions": [
      "fs:read",
      "fs:write",
      "net:npm-publish"
    ],
    "health_check": null,
    "integrity": null,
    "integrity_ref": "./publish-jos-cli.jos.sig.json"
  },
  "files": [],
  "orchestration": {
    "state": {
      "current_status": "idle"
    },
    "definitions": {
      "preflight": {
        "type": "shell",
        "description": "Verify package.json exists and npm is authenticated",
        "command": "cd /Users/jos/Documents/dev/jos/jos-cli && echo 'üîç Preflight: Checking @josfox/jos-cli...' && cat package.json | head -5"
      },
      "version_bump": {
        "type": "shell",
        "description": "Bump @josfox/jos-cli to version 1.0.7",
        "command": "cd /Users/jos/Documents/dev/jos/jos-cli && npm version 1.0.7 --no-git-tag-version --allow-same-version && echo '‚úÖ @josfox/jos-cli bumped to 1.0.7'"
      },
      "publish": {
        "type": "shell",
        "description": "Publish @josfox/jos-cli to npm registry (LIVE)",
        "command": "cd /Users/jos/Documents/dev/jos/jos-cli && npm publish --access public"
      },
      "postflight": {
        "type": "shell",
        "description": "Verify publication succeeded",
        "command": "echo '‚úÖ @josfox/jos-cli publish step complete'"
      }
    },
    "flows": {
      "main": {
        "description": "Full publish flow with validation",
        "steps": [
          "preflight",
          "version_bump",
          "publish",
          "postflight"
        ]
      },
      "dry_run": {
        "description": "Simulated publish without actual npm publish",
        "steps": [
          "preflight",
          "version_bump",
          "postflight"
        ]
      }
    },
    "pipelines": {
      "publish": {
        "description": "Alias for main flow",
        "steps": [
          "preflight",
          "version_bump",
          "publish",
          "postflight"
        ]
      }
    }
  },
  "x_run_params": {
    "timeout": 300,
    "retry_on_failure": false
  },
  "meta": {
    "version": "1.0.0",
    "type": "atom",
    "name": "publish-jos-cli",
    "provider": "local",
    "author": "JOS Release Engineering",
    "canonical_version": "Format version v0.0.7 ‚Äî Specification maturity v0.1.0 (Alpha)"
  },
  "artifacts": {
    "description": "Publishes @josfox/jos-cli package to npm registry. This is the minimal 77-line stoic kernel CLI.",
    "outputs": [
      "npm:@josfox/jos-cli@1.0.4"
    ]
  },
  "guardrails": {
    "avoid": [
      "git-tag-creation",
      "force-publish"
    ],
    "max_retries": 1,
    "require_clean_git": true
  },
  "intention": {
    "objective": "Publish the @josfox/jos-cli package version 1.0.4 to npm registry",
    "success_criteria": "npm publish returns exit code 0 and package is visible via npm view"
  },
  "capabilities": [
    "npm",
    "publish",
    "version-bump"
  ]
}